local kpse = require('kpse') kpse.set_program_name('luatex') local lfs = require("lfs") local cacheDir = "./_markdown_thesis" if lfs.isdir(cacheDir) == true then else assert(lfs.mkdir(cacheDir)) end local md = require("markdown") local convert = md.new({cacheDir = "./_markdown_thesis", citations = true, citationNbsps = true, definitionLists = true, footnotes = true, fencedCode = true, hashEnumerators = true, hybrid = true, inlineFootnotes = true, } ) local input = assert(io.open("thesis.markdown.in","r")):read("*a") print(convert(input:gsub("\r\n?", "\n")))
